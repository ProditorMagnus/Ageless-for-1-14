#textdomain wesnoth-Ageless_Era

#define AE_RUNE_EFFECT_2
    [set_variable]
        name=randupgrade
        rand=1..10
    [/set_variable]
    [switch]
        variable=randupgrade
        [case]
            value=1
            [set_variables]
                name=AE_imp_active_runes_2
                mode=append
                [value]
                    [effect]
                        apply_to=resistance
                        replace=no
                        [resistance]
                            arcane=-15
                            fire=-15
                            blade=-15
                            pierce=-15
                            impact=-15
                            cold=-15
                        [/resistance]
                    [/effect]
                    [effect]
                        apply_to=status
                        add=AE_imp_status_runed
                    [/effect]
                    image="halo/cipher1-4.png"
                    label=_"resistance"
                    rgb=255,128,0
                    x=$runelayers[$i].x
                    y=$runelayers[$i].y
                    side=$side_number
                    end_turn="$($turn_number + 2)"
                [/value]
            [/set_variables]
        [/case]
        [case]
            value=2
            [set_variables]
                name=AE_imp_active_runes_2
                mode=append
                [value]
                    [effect]
                        apply_to=hitpoints
                        increase_total=1
                    [/effect]
                    image="halo/cipher2-4.png"
                    not_cleared=yes
                    label=_"max hp"
                    rgb=0,176,0
                    x=$runelayers[$i].x
                    y=$runelayers[$i].y
                    side=$side_number
                    end_turn="$($turn_number + 2)"
                [/value]
            [/set_variables]
        [/case]
        [case]
            value=3
            [set_variables]
                name=AE_imp_active_runes_2
                mode=append
                [value]
                    [effect]
                        apply_to=attack
                        increase_damage=2
                    [/effect]
                    [effect]
                        apply_to=status
                        add=AE_imp_status_runed
                    [/effect]
                    image="halo/cipher3-4.png"
                    label=_"damage"
                    rgb=0,127,255
                    x=$runelayers[$i].x
                    y=$runelayers[$i].y
                    side=$side_number
                    end_turn="$($turn_number + 2)"
                [/value]
            [/set_variables]
        [/case]
        [case]
            value=4
            [set_variables]
                name=AE_imp_active_runes_2
                mode=append
                [value]
                    [effect]
                        apply_to=attack
                        [set_specials]
                            mode=append
                            [chance_to_hit]
                                id=rune_cth_2
                                name= _ "Rune"
                                description= _ "This rune adds +15% chance to hit."
                                apply_to=self
                                add=15
                            [/chance_to_hit]
                        [/set_specials]
                    [/effect]
                    [effect]
                        apply_to=status
                        add=AE_imp_status_runed
                    [/effect]
                    image="halo/cipher4-4.png"
                    label=_"cth"
                    rgb=180,0,180
                    x=$runelayers[$i].x
                    y=$runelayers[$i].y
                    side=$side_number
                    end_turn="$($turn_number + 2)"
                [/value]
            [/set_variables]
        [/case]
        [case]
            value=5
            [set_variables]
                name=AE_imp_active_runes_2
                mode=append
                [value]
                    [effect]
                        apply_to=attack
                        increase_attacks=1
                    [/effect]
                    [effect]
                        apply_to=status
                        add=AE_imp_status_runed
                    [/effect]
                    image="halo/death-3.png"
                    label=_"strike"
                    rgb=255,128,0
                    x=$runelayers[$i].x
                    y=$runelayers[$i].y
                    side=$side_number
                    end_turn="$($turn_number + 2)"
                [/value]
            [/set_variables]
        [/case]
        [case]
            value=6
            [set_variables]
                name=AE_imp_active_runes_2
                mode=append
                [value]
                    [effect]
                        apply_to=defense
                        replace=no
                        [defense]
                            deep_water=-10
                        [/defense]
                    [/effect]
                    [effect]
                        apply_to=defense
                        replace=no
                        [defense]
                            shallow_water=-10
                        [/defense]
                    [/effect]
                    [effect]
                        apply_to=defense
                        replace=no
                        [defense]
                            swamp_water=-10
                        [/defense]
                    [/effect]
                    [effect]
                        apply_to=defense
                        replace=no
                        [defense]
                            flat=-10
                        [/defense]
                    [/effect]
                    [effect]
                        apply_to=defense
                        replace=no
                        [defense]
                            sand=-10
                        [/defense]
                    [/effect]
                    [effect]
                        apply_to=defense
                        replace=no
                        [defense]
                            forest=-10
                        [/defense]
                    [/effect]
                    [effect]
                        apply_to=defense
                        replace=no
                        [defense]
                            hills=-10
                        [/defense]
                    [/effect]
                    [effect]
                        apply_to=defense
                        replace=no
                        [defense]
                            mountains=-10
                        [/defense]
                    [/effect]
                    [effect]
                        apply_to=defense
                        replace=no
                        [defense]
                            village=-10
                        [/defense]
                    [/effect]
                    [effect]
                        apply_to=defense
                        replace=no
                        [defense]
                            castle=-10
                        [/defense]
                    [/effect]
                    [effect]
                        apply_to=defense
                        replace=no
                        [defense]
                            cave=-10
                        [/defense]
                    [/effect]
                    [effect]
                        apply_to=defense
                        replace=no
                        [defense]
                            frozen=-10
                        [/defense]
                    [/effect]
                    [effect]
                        apply_to=defense
                        replace=no
                        [defense]
                            unwalkable=-10
                        [/defense]
                    [/effect]
                    [effect]
                        apply_to=defense
                        replace=no
                        [defense]
                            impassable=-10
                        [/defense]
                    [/effect]
                    [effect]
                        apply_to=defense
                        replace=no
                        [defense]
                            fungus=-10
                        [/defense]
                    [/effect]
                    [effect]
                        apply_to=status
                        add=AE_imp_status_runed
                    [/effect]
                    image="halo/sorrow-4.png"
                    label=_"defense"
                    rgb=0,90,0
                    x=$runelayers[$i].x
                    y=$runelayers[$i].y
                    side=$side_number
                    end_turn="$($turn_number + 2)"
                [/value]
            [/set_variables]
        [/case]
        [case]
            value=7
            [set_variables]
                name=AE_imp_active_runes_2
                mode=append
                [value]
                    [effect]
                        apply_to=hitpoints
                        increase=4
                    [/effect]
                    [effect]
                        apply_to=status
                        remove=poisoned
                    [/effect]
                    image="halo/memory-4.png"
                    not_cleared=yes
                    label=_"heal"
                    rgb=0,176,0
                    x=$runelayers[$i].x
                    y=$runelayers[$i].y
                    side=$side_number
                    end_turn="$($turn_number + 2)"
                [/value]
            [/set_variables]
        [/case]
        [case]
            value=8
            [set_variables]
                name=AE_imp_active_runes_2
                mode=append
                [value]
                    [effect]
                    [/effect]
                    not_cleared=yes
                    label=_"nothing"
                    rgb=255,255,0
                    x=$runelayers[$i].x
                    y=$runelayers[$i].y
                    side=$side_number
                    end_turn="$($turn_number + 2)"
                [/value]
            [/set_variables]
        [/case]
        [case]
            value=9
            [set_variables]
                name=AE_imp_active_runes_2
                mode=append
                [value]
                    [effect]
                    [/effect]
                    not_cleared=yes
                    label=_"nothing"
                    rgb=255,255,0
                    x=$runelayers[$i].x
                    y=$runelayers[$i].y
                    side=$side_number
                    end_turn="$($turn_number + 2)"
                [/value]
            [/set_variables]
        [/case]
        [case]
            value=10
            [set_variables]
                name=AE_imp_active_runes_2
                mode=append
                [value]
                    [effect]
                    [/effect]
                    not_cleared=yes
                    label=_"nothing"
                    rgb=255,255,0
                    x=$runelayers[$i].x
                    y=$runelayers[$i].y
                    side=$side_number
                    end_turn="$($turn_number + 2)"
                [/value]
            [/set_variables]
        [/case]
    [/switch]
#enddef

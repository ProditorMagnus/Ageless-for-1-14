#SUMMONERS ANIMATIONS
#----------------------------------------------------------------------------------------
#define DIMENSIONAL_VORTEX_ANIM VARIANT
    [attack_anim]
        [filter_attack]
            name=jinn-circle
        [/filter_attack]
        missile_start_time=-8400
        [missile_frame]
            halo=halo/jinn-circle[0,1~7].png:150
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=150
            halo=halo/jinn-circle7.png:150
            offset=1.0
            sound=magic-faeriefire.ogg
        [/missile_frame]
        [if]
            direction=s,se,sw
            [missile_frame]
                duration=4000
                halo=halo/vortex{VARIANT}.png
                blend_ratio=0:2000,0~1:500
                blend_color=255,255,255
                offset=1.0
                layer=99
                sound=windsweep.ogg
                halo_y=-10
            [/missile_frame]
        [/if]
        [else]
            [missile_frame]
                duration=4000
                halo=halo/vortex{VARIANT}.png
                blend_ratio=0:2000,0~1:500
                blend_color=255,255,255
                offset=1.0
                layer=99
                sound=windsweep.ogg
            [/missile_frame]
        [/else]
        [missile_frame]
            duration=2500
            halo=halo/vortex{VARIANT}portal.png
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=500
            blend_ratio=0~1:500
            blend_color=255,255,255
            image=halo/vortex{VARIANT}portal.png
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=50
            halo=halo/ultraheal-1.png~SCALE(648,648)
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=50
            halo=halo/ultraheal-1.png~SCALE(432,432)
            offset=1.0
        [/missile_frame]
        [missile_frame]
            duration=75
            halo=halo/ultraheal-1.png
            offset=1.0
            sound=magic-dark.ogg
        [/missile_frame]
    [/attack_anim]
#enddef

#----------------------------------------------------------------------------------------
#define GREATEFREETI_MAGIC_ANIM DIRECTION VARIANT
    [attack_anim]
        [filter_attack]
            name=magic
        [/filter_attack]
        direction={DIRECTION}
        [missile_frame]
            offset=1.0
        [/missile_frame]
        start_time=-350
        [frame]
            image="units/summoners-enchanted-ones/efreeti-great-attack-magic[1,2,-startend-{VARIANT},-{VARIANT}3].png:[100,50,100,50]"
        [/frame]
        [frame]
            image="units/summoners-enchanted-ones/efreeti-great[-attack-magic-{VARIANT}4,-attack-magic-{VARIANT}5,-attack-magic-{VARIANT}6,2].png:50"
            sound=explosion.ogg
        [/frame]
    [/attack_anim]
#enddef
#----------------------------------------------------------------------------------------
#define SUMMONERS_CAMEL_MOVEMENT_AND_ATTACK_ANIM UNIT
    [movement_anim]
        start_time=0
        [frame]
            image="units/summoners-humans/{UNIT}-attack-2.png:150"
        [/frame]
    [/movement_anim]
    [attack_anim]
        [filter_attack]
            name=scimitarthrow
        [/filter_attack]
        missile_start_time=-200
        [missile_frame]
            duration=200
            image="projectiles/scimitar-[2~4,1].png"
            image_diagonal="projectiles/scimitar-[2~4,1].png"
        [/missile_frame]
        start_time=-300
        [if]
            hits=yes
            [frame]
                image="units/summoners-humans/{UNIT}-[attack-1,ranged].png:[100,200]"
                sound=hatchet.wav
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                image="units/summoners-humans/{UNIT}-[attack-1,ranged,attack-2].png:[100,200*2]"
                sound=hatchet-miss.wav
            [/frame]
        [/else]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=scimitar
        [/filter_attack]
        start_time=-300
        [frame]
            image="units/summoners-humans/{UNIT}-attack-[2~4,2].png:[200,100*3]"
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND_LIST:SWORD_SWISH} {SOUND_LIST:MISS} -100}
    [/attack_anim]
#enddef
#----------------------------------------------------------------------------------------
#define SUMMONERS_CARPET_ATTACK_FRAMES UNIT THROWSOUND
    start_time=-500
    [frame]
        image="units/summoners-humans/{UNIT}[-attack1,-attack2,-attack3,-attack4,2].png:100"
        sound={THROWSOUND}
    [/frame]
    [if]
        hits=yes
        [frame]
            image="units/summoners-humans/{UNIT}2.png:375"
            sound=flame-big.ogg
        [/frame]
    [/if]
    [else]
        [frame]
            image="units/summoners-humans/{UNIT}2.png:375"
        [/frame]
    [/else]
#enddef
#----------------------------------------------------------------------------------------
#define BANISHMENT_ATTACK_ANIM UNIT
    [attack_anim]
        [filter_attack]
            name=banishment
        [/filter_attack]
        start_time=-400
        missile_start_time=-200
        [if]
            hits=yes
            [missile_frame]
                halo=halo/jinn-circle[0,1~6,7,6~1].png~GS()~CS(50,50,50)~SCALE(100,100):100
                offset=1.0
            [/missile_frame]
            [frame]
                image="units/summoners-humans/{UNIT}-attack1.png:400"
                offset=0~0.3:200,0.3:600,0.3~0:200
                sound=magic-faeriefire.ogg
            [/frame]
        [/if]
        [else]
            hits=no
            [missile_frame]
                halo=halo/jinn-circle[0,1,2,1,0].png~GS()~CS(40,40,40)~SCALE(100,100):100
                offset=1.0
                alpha=0.75:300,0.75~0.1:200
            [/missile_frame]
            [frame]
                begin=-150
                end=150
                image="units/summoners-humans/{UNIT}-attack1.png:400"
                offset=0~0.3:200,0.3:300,0.3~0:200
                sound=um-miss.ogg
            [/frame]
        [/else]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=staff
        [/filter_attack]
        start_time=-350
        [frame]
            image="units/summoners-humans/{UNIT}-attack[1~3,2,1].png:[100,200,300,100,50]"
        [/frame]
        {SOUND:HIT_AND_MISS staff.wav {SOUND_LIST:MISS} -50}
    [/attack_anim]
#enddef
#----------------------------------------------------------------------------------------
#define SUMMONER_DIRECTION_MOVEMENT_ANIM UNIT IMAGE1 IMAGE2 DIRECTION
    [movement_anim]
        direction={DIRECTION}
        start_time=0
        [frame]
            image="units/summoners-humans/{UNIT}-[{IMAGE1},{IMAGE2}].png:100"
        [/frame]
    [/movement_anim]
#enddef
#----------------------------------------------------------------------------------------
#define SUMMONER_DEFENSE_ANIM UNIT
    {GENERIC_DEFENSE_ANIM units/summoners-humans/{UNIT}-defend1 units/summoners-humans/{UNIT}-defend1 units/summoners-humans/{UNIT}-defend2 units/summoners-humans/{UNIT}-defend3 units/summoners-humans/{UNIT}-defend3 miss 0.0 0.0 0.0}
    [defend]
        hits=yes
        start_time=-125
        [frame]
            image="units/summoners-humans/{UNIT}-draw2.png:83"
        [/frame]
        [frame]
            image="units/summoners-humans/{UNIT}-draw[1,2].png:[83,84]"
            sound={SOUND_LIST:HUMAN_OLD_HIT}
        [/frame]
    [/defend]
#enddef
#----------------------------------------------------------------------------------------
#define SUMMONER_SCIMITAR_DRAW_ATTACK_ANIM UNIT
    [draw_weapon_anim]
        start_time=0
        [frame]
            image="units/summoners-humans/{UNIT}-draw[1,2].png:150"
        [/frame]
    [/draw_weapon_anim]
    [attack_anim]
        [filter_attack]
            name=scimitar
        [/filter_attack]
        start_time=-200
        [frame]
            image="units/summoners-humans/{UNIT}-attack[1~4,1].png:[100,200,50*2,100]"
        [/frame]
        {SOUND:HIT_AND_MISS dagger-swish.wav {SOUND_LIST:MISS} -100}
    [/attack_anim]
#enddef
#----------------------------------------------------------------------------------------
#define SUMMONER_HAMMER_ATTACK_ANIM UNIT ATTACK1 ATTACK2 ATTACK3 ATTACK4 ATTACK5
    [attack_anim]
        [filter_attack]
            name=hammer
        [/filter_attack]
        start_time=-350
        [frame]
            image="units/summoners-humans/{UNIT}-[{ATTACK1},{ATTACK2},{ATTACK3},{ATTACK4},{ATTACK5}].png:[100,200,300,100,50]"
        [/frame]
        {SOUND:HIT_AND_MISS mace.wav {SOUND_LIST:MISS} -50}
    [/attack_anim]
#enddef
#----------------------------------------------------------------------------------------
#define SUMMONER_CIRCLE_ANIM UNIT CIRCLE FILTER LAST VARIATION DIR HALO_X HALO_Y
    [attack_anim]
        [filter_attack]
            name={FILTER}
        [/filter_attack]
        direction={DIR}
        missile_start_time=-250
        [missile_frame]
            offset=1.0:250
        [/missile_frame]
        start_time=-800
        [frame]
            image="units/summoners-humans/{UNIT}[1,2,1].png:[400,600,200]"
            halo=halo/circle-{CIRCLE}-{VARIATION}-[1~5,{LAST}].png:200
            halo_x,halo_y={HALO_X},{HALO_Y}
        [/frame]
        attack_sound_time=0
        [attack_sound_frame]
            sound=lightning.ogg
        [/attack_sound_frame]
    [/attack_anim]
#enddef
#----------------------------------------------------------------------------------------
#define JINN_MOVEMENT_ANIM UNIT
    [movement_anim]
        start_time=0
        [frame]
            image="units/summoners-enchanted-ones/{UNIT}-move.png:100"
        [/frame]
    [/movement_anim]
    [movement_anim]
        direction=n
        start_time=0
        [frame]
            image="units/summoners-enchanted-ones/{UNIT}-move-n.png:100"
        [/frame]
    [/movement_anim]
#enddef
#----------------------------------------------------------------------------------------
#define JINN_DEFENSE_ANIM UNIT MISS1 MISS2 MISS3 OFFSET1 OFFSET2 OFFSET3 OFFSET4
    [defend]
        hits=miss
        start_time=-126
        [frame]
            image="units/summoners-enchanted-ones/{UNIT}[{MISS1},{MISS2},{MISS3}].png:[126,125,1]"
            offset=0.0~-0.5:126,-0.5~0.0:126
        [/frame]
    [/defend]
    [defend]
        hits=yes
        start_time=-126
        [frame]
            image="units/summoners-enchanted-ones/{UNIT}1.png:1"
        [/frame]
        [frame]
            image="units/summoners-enchanted-ones/{UNIT}[-hit1,-hit2,-hit1,1].png:[85,80,85,1]"
            offset={OFFSET1}:85,{OFFSET2}:40,{OFFSET3}:40,{OFFSET4}:85
        [/frame]
    [/defend]
#enddef
#----------------------------------------------------------------------------------------
#define JINN_MISSILE_ANIM
    missile_start_time=-200
    [missile_frame]
        image="halo/circuit-n[1~3].png:75"
        image_diagonal="halo/circuit-ne[1~3].png:75"
        offset=0.5
    [/missile_frame]
    [if]
        hits=yes

        missile2_start_time=-50
        [missile_frame]
            image="halo/circuit-n[3~1].png:50"
            image_diagonal="halo/circuit-ne[3~1].png:50"
            offset=0.5
        [/missile_frame]
        [missile2_frame]
            duration=400
            halo="projectiles/fire-burst-small-[1~4,3,2,7,8].png"
            halo_mod=~GS()~G(128)~B(255)~SCALE(45,45)
            offset=1.0
            sound=um.ogg
        [/missile2_frame]
    [/if]
#enddef
#----------------------------------------------------------------------------------------
#define EFREETI_MISSILE_ANIM
    missile_start_time=-200
    [missile_frame]
        image="halo/magicefreeti-n-[1~3].png:75"
        image_diagonal="halo/magicefreeti-ne-[1~3].png:75"
        offset=0.5
    [/missile_frame]
    [if]
        hits=yes

        missile2_start_time=-50
        [missile_frame]
            image="halo/magicefreeti-n-[3~1].png:50"
            image_diagonal="halo/magicefreeti-ne-[3~1].png:50"
            offset=0.5
        [/missile_frame]
        [missile2_frame]
            duration=400
            halo="projectiles/fire-burst-small-[1~4,3,2,7,8].png"
            halo_mod=~GS()~R(128)~G(64)~SCALE(45,45)
            offset=1.0
            sound=fire.wav
        [/missile2_frame]
    [/if]
#enddef
#----------------------------------------------------------------------------------------
#define MYSTIC_JINN_MOVE_ANIM UNIT MOVE
    [pre_movement_anim]
        [frame]
            image="units/summoners-enchanted-ones/{UNIT}-premove[1~3].png:100"
        [/frame]
    [/pre_movement_anim]
    [post_movement_anim]
        [frame]
            image="units/summoners-enchanted-ones/{UNIT}-premove[3~1].png:100"
        [/frame]
    [/post_movement_anim]
    [movement_anim]
        [frame]
            image="{MOVE}:100"
        [/frame]
    [/movement_anim]
    [animation]
        apply_to=pre_teleport
        [frame]
            image="misc/blank-hex.png:1"
        [/frame]
    [/animation]
    [animation]
        apply_to=post_teleport
        [frame]
            image="misc/blank-hex.png:1"
        [/frame]
    [/animation]
#enddef
#----------------------------------------------------------------------------------------
#define RHAMI_SWORD_ANIM UNIT ATTACK1 ATTACK2 ATTACK3 FILTER HITSOUND
    [attack_anim]
        [filter_attack]
            name={FILTER}
        [/filter_attack]
        start_time=-180
        [frame]
            image="units/summoners-enchanted-ones/{UNIT}-[{ATTACK1},{ATTACK2},{ATTACK3}].png:120"
        [/frame]
        {SOUND:HIT_AND_MISS {HITSOUND} {SOUND_LIST:MISS} -60}
    [/attack_anim]
#enddef
#----------------------------------------------------------------------------------------
#define RHAMI_FIRECUP_ANIM UNIT
    [attack_anim]
        [filter_attack]
            name=firecup
        [/filter_attack]
        missile_start_time=-120
        [missile_frame]
            image="projectiles/firewave-n[1~5].png:50"
            image_diagonal="projectiles/firewave-[1~5].png:50"
            offset=0.0~0.2:50,0.2~0.4:50,0.4~0.6:50,0.6~0.8:50,0.8~1.0:50
            sound=fire.wav
        [/missile_frame]
        start_time=-180
        [frame]
            image="units/summoners-enchanted-ones/{UNIT}-ranged-[1~3].png:120"
        [/frame]
    [/attack_anim]
#enddef
#----------------------------------------------------------------------------------------
#define RHAMI_DEFENSE_ANIM UNIT MISS1
    [defend]
        hits=miss
        start_time=-126
        [frame]
            image="units/summoners-enchanted-ones/{MISS1}.png:252"
        [/frame]
    [/defend]
    {GENERIC_DEFENSE_ANIM units/summoners-enchanted-ones/{MISS1} units/summoners-enchanted-ones/{UNIT}-hit1 units/summoners-enchanted-ones/{UNIT}-hit2 units/summoners-enchanted-ones/{UNIT}-hit1 units/summoners-enchanted-ones/{MISS1} hit 0.0 0.0 0.0}
#enddef
#----------------------------------------------------------------------------------------
#define RHAMI_LEADING_STANDING_ANIM UNIT
    [idle_anim]
        start_time=0
        [frame]
            image="units/summoners-enchanted-ones/{UNIT}-magic[1~3,2,1].png:100"
        [/frame]
    [/idle_anim]
    [leading_anim]
        start_time=-250
        [frame]
            image="units/summoners-enchanted-ones/{UNIT}-magic[1~3,2,1].png:100"
        [/frame]
    [/leading_anim]
#enddef
#----------------------------------------------------------------------------------------
#define RHAMI_KAI_TRIDENT_ANIM FILTER VARIANT HIT_SOUND UNIT
    [attack_anim]
        [filter_attack]
            name={FILTER}
        [/filter_attack]
        start_time=-300
        [frame]
            image="units/summoners-enchanted-ones/{UNIT}-attack-{VARIANT}[1~4].png:[120*3,90]"
        [/frame]
        {SOUND:HIT_AND_MISS {HIT_SOUND} {SOUND_LIST:MISS} -60}
    [/attack_anim]
#enddef
#----------------------------------------------------------------------------------------
#define RHAMI_KAI_ATTACKS_ANIM UNIT
    {RHAMI_KAI_TRIDENT_ANIM trident a {SOUND_LIST:SWORD_SWISH} {UNIT}}
    {RHAMI_KAI_TRIDENT_ANIM trident2 b spear.ogg {UNIT}}
    [attack_anim]
        [filter_attack]
            name=necklace
        [/filter_attack]
        [missile_frame]
        [/missile_frame]
        missile_start_time=-60
        missile2_start_time=-50
        [if]
            hits=yes
            [missile_frame]
                image="projectiles/magic-n-[1~3].png:100"
                image_diagonal="projectiles/magic-ne-[1~3].png:100"
                offset=1~0.1:150
                alpha=1:100,1~0:100
                sound=um.ogg
            [/missile_frame]
            [missile2_frame]
                halo="halo/elven/druid-healing[1~8].png~O(50%)~CS(0,0,40):50"
                auto_vflip=false
                offset=0.0
            [/missile2_frame]
        [/if]
        [else]
            hits=no
            [missile_frame]
                image="projectiles/magic-n-[1~3].png:100"
                image_diagonal="projectiles/magic-ne-[1~3].png:100"
                offset=1~0.1:150
                alpha=1~0:100
                sound=um-miss.ogg
            [/missile_frame]
        [/else]
        start_time=-180
        [frame]
            image="units/summoners-enchanted-ones/{UNIT}-magic1.png:120"
        [/frame]
        [frame]
            image="units/summoners-enchanted-ones/{UNIT}-magic[2,3].png:120"
        [/frame]
    [/attack_anim]
#enddef
#----------------------------------------------------------------------------------------
#define GATE_STANDING_ANIM UNIT COLOR
    [standing_anim]
        [first_frame]
            halo="halo/grandsummoner-[1~6,6,7,7,8*4,7,7,6,6~1].png:100"
            halo_mod=~O(0.3)~GS()~BLEND({COLOR})
            auto_vflip=no
        [/first_frame]
        [frame]
            duration=4000
            image="units/summoners-enchanted-ones/{UNIT}.png"
        [/frame]
        [alpha2_frame]
            duration=4000
            image="units/summoners-enchanted-ones/{UNIT}-alt.png"
            alpha=0.0~1.0:2000,1.0~0.0:2000
            auto_vflip=no
            layer=41
        [/alpha2_frame]
    [/standing_anim]
#enddef
#----------------------------------------------------------------------------------------
#define ELEMENTAL_BURNING_FIST_ANIM UNIT
    [attack_anim]
        [filter_attack]
            name=burning fist
        [/filter_attack]
        start_time=-250
        [frame]
            image="units/summoners-elementals/{UNIT}-fire[1,2].png:[50,100]"
        [/frame]
        [frame]
            image="units/summoners-elementals/{UNIT}-fire[3~1].png:[200,75*2]"
            sound=fire.wav
        [/frame]
    [/attack_anim]
#enddef
#----------------------------------------------------------------------------------------
#define ELEMENTAL_AIR_ATTACK_ANIM UNIT VARIANT
    [attack_anim]
        [filter_attack]
            name=hurricane
        [/filter_attack]
        start_time=-250
        [if]
            hits=no
            [frame]
                image="units/summoners-elementals/{UNIT}[2,-attack-staff-1].png:[50,100]"
            [/frame]
            [frame]
                image="units/summoners-elementals/{UNIT}[-attack-staff-2,-attack-staff-1,1].png:[200,50*2]"
                sound=lightning-miss.ogg
            [/frame]
        [/if]
        [else]
            hits=yes
            [frame]
                image="units/summoners-elementals/{UNIT}[3,-attack-staff-1].png:[50,100]"
            [/frame]
            [frame]
                image="units/summoners-elementals/{UNIT}[-attack-staff-2,-attack-staff-1,2].png:[200,50*2]"
                sound=lightning-miss.ogg
            [/frame]
        [/else]
    [/attack_anim]

    [attack_anim]
        [filter_attack]
            name=small thunder
        [/filter_attack]
        start_time=-400
        missile_start_time=-200
        [missile_frame]
            image="halo/circuit-n[1~3].png:75"
            image_diagonal="halo/circuit-ne[1~3].png:75"
            offset=0.5
        [/missile_frame]
        [if]
            hits=yes

            [ball_frame]
                duration=550
                image=projectiles/zmage-halo[1~5,4~1,2~5].png~GS()~BLEND(0,128,255,0.4)~CS(0,128,255)
                layer=99
                x,y=2,-2
                alpha=0~0.75:75,0.6:325,0.6~0:150
                offset=1
            [/ball_frame]
            ball_start_time=-100
            missile2_start_time=-100
            missile3_start_time=-100
            [missile_frame]
                image="halo/circuit-n[3~1].png:50"
                image_diagonal="halo/circuit-ne[3~1].png:50"
                offset=0.5
            [/missile_frame]
            [missile2_frame]
                duration=600
                halo="halo/undead/idle-flash-[1~21].png"
                halo_mod=~GS()~G(128)~B(255)
                halo_x=-12
                offset=1.0
            [/missile2_frame]
            [missile3_frame]
                duration=600
                halo="halo/undead/idle-flash-[1~21].png~FL(horiz)~FL(vert)"
                halo_mod=~GS()~G(128)~B(255)
                halo_x=12
                offset=1.0
            [/missile3_frame]
            [frame]
                image="units/summoners-elementals/{UNIT}-attack-staff-[1,2,{VARIANT},1].png:[50,150,200,50]"
                sound=lightning-miss.ogg
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                begin=-200
                end=0
                image="units/summoners-elementals/{UNIT}-attack-staff-[1,2,1,1].png:[50,150,200,50]"
                sound=lightning-miss.ogg
            [/frame]
        [/else]
    [/attack_anim]
#enddef
#----------------------------------------------------------------------------------------
#define ELEMENTAL_WATER_IDLE_DEATH_ANIM UNIT
    [idle_anim]
        [frame]
            image="units/summoners-elementals/{UNIT}-die[1~5,5~2].png:100"
        [/frame]
    [/idle_anim]
    [death]
        [frame]
            image="units/summoners-elementals/{UNIT}-die[1~6].png:100"
            sound=water-blast.wav
        [/frame]
    [/death]
#enddef
#----------------------------------------------------------------------------------------
#define ELEMENTAL_WATER_IDLE_DEATH_ANIM UNIT
    [idle_anim]
        [frame]
            image="units/summoners-elementals/{UNIT}-die[1~5,5~2].png:100"
        [/frame]
    [/idle_anim]
    [death]
        [frame]
            image="units/summoners-elementals/{UNIT}-die[1~6].png:100"
            sound=water-blast.wav
        [/frame]
    [/death]
#enddef
#----------------------------------------------------------------------------------------
#define ELEMENTAL_WATER_FIST_ANIM UNIT VARIANT
    [attack_anim]
        [filter_attack]
            name=frozen fist
        [/filter_attack]
        start_time=-250
        [frame]
            image="units/summoners-elementals/{UNIT}[1,-{VARIANT}1,-{VARIANT}2,-{VARIANT}1,1].png:[50,100,200,50*2]"
        [/frame]
        {SOUND:HIT_AND_MISS water-blast.wav water-blast.wav -100}
    [/attack_anim]
#enddef
#----------------------------------------------------------------------------------------

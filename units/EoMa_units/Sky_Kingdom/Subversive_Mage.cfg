#textdomain wesnoth-Era_of_Magic
[unit_type]
    id=AE_mag_Subversive_Mage
    name= _ "Subversive Mage"
    race=human
    image="units/skykingdom-magi/subversivemage.png"
    ellipse="misc/ellipse"

    hitpoints=29
    movement_type=AE_mag_subversivemage
    movement=6
    experience=45
    level=1
    alignment=neutral
    advances_to=AE_mag_Black_Mage,AE_mag_Sculptor
    cost=17
    usage=mixed fighter
    undead_variation=subversivemage
    description={AE_EOMA_UNIT_NOTICE}+ _ "Subversive Magi are an unusual group that studies black magic. They are still novices, but they are good at evading enemy strikes, capable of entangling enemies in nets made out of energy, and then battering them with cold missiles."
    die_sound={SOUND_LIST:HUMAN_DIE}
    {SKY_ENLIGHTENED_DEFENSE_ANIM subversivemage subversivemage subversivemage {SOUND_LIST:HUMAN_HIT} }
    [standing_anim]
        [frame]
            image="units/skykingdom-magi/subversive/00[01~36].png:42"
        [/frame]
    [/standing_anim]
    [resistance]
        cold=85
        blade=110
        pierce=100
        impact=110
    [/resistance]
    [movement_costs]
        swamp_water=2
        mountains=2
    [/movement_costs]
    [defense]
        swamp_water=60
    [/defense]
    [attack]
        name=staff
        description={STR_STAFF}
        icon=attacks/staff-magic.png
        type=impact
        range=melee
        damage=8
        number=1
    [/attack]
    [attack]
        name=missile
        description={STR_MISSILE}
        icon=attacks/magic-missile.png
        type=cold
        range=ranged
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
        [/specials]
        damage=6
        number=3
    [/attack]
    [attack]
        name=ensnare
        description=_ "entrapment spell"
        type=cold
        [specials]
            {WEAPON_SPECIAL_SLOW}
            {WEAPON_SPECIAL_AE_MAG_SKILLED}
        [/specials]
        damage=3
        number=3
        range=ranged
        icon=attacks/entrapment-spell.png
    [/attack]
    {SKY_ENLIGHTENED_STAFF_ANIM subversivemage-attack-staff-1 subversivemage-attack-staff-2 subversivemage-attack-staff-1 subversivemage-attack-staff-1 subversivemage-attack-staff-1 subversivemage-attack-staff-2 subversivemage}
    [attack_anim]
        [filter_attack]
            name=missile
        [/filter_attack]
        missile_start_time=-200
        [if]
            direction=s,se,sw
            [missile_frame]
                halo=projectiles/zmage-halo[1~5].png:48
                halo_x,halo_y=6,-25~2,-2:50
                halo_mod=~CS(-32,-32,0)
                offset=0.0~1.0:200
            [/missile_frame]
        [/if]
        [else]
            direction=ne,nw
            [missile_frame]
                halo=projectiles/zmage-halo[1~5].png:48
                halo_x,halo_y=6,-25~6,-2:200
                halo_mod=~CS(-32,-32,0)
                offset=0.0~1.0:200
            [/missile_frame]
        [/else]
        [else]
            direction=n
            [missile_frame]
                halo=projectiles/zmage-halo[1~5].png:48
                halo_x,halo_y=2,-2
                halo_mod=~CS(-32,-32,0)
                offset=0.0~1.0:200
            [/missile_frame]
        [/else]
        [if]
            hits=yes
            missile2_start_time=0
            [missile2_frame]
                duration=400
                halo="projectiles/whitemissile-impact-[1~8].png:50"
                halo_mod=~GS()~CS(100,100,0)
                offset=0.8,0.92,0.94,0.96,0.98,1.0,1.02,1.04
            [/missile2_frame]
        [/if]
        start_time=-400
        [frame]
            image="units/skykingdom-magi/subversivemage-attack-magic1.png:50"
        [/frame]
        [frame]
            image="units/skykingdom-magi/subversivemage-attack-magic2.png:350"
            halo="projectiles/zmage-preparation-halo[1~7,1~7].png:[21*7,28*7]"
            halo_mod=~CS(-32,-32,0)
            halo_x,halo_y=6,-25
        [/frame]
        [frame]
            image="units/skykingdom-magi/subversivemage-attack-magic1.png:50"
        [/frame]
        {SOUND:HIT_AND_MISS magic-missile-[1~3].ogg magic-missile-[1~3]-miss.ogg -200}
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=ensnare
        [/filter_attack]
        missile_start_time=-375
        [if]
            hits=yes
            [missile_frame]
                image="halo/mystic-magic[1~5,5~1].png~GS()~CS(96,96,0):75"
                image_diagonal="halo/mystic-magic[1~5,5~1].png~GS()~CS(96,96,0):75"
                blend_ratio=0:225,0~0.5:150,0.5~0:150
                blend_color=255,255,255
                offset=1.0
            [/missile_frame]
        [/if]
        [else]
            [missile_frame]
                image="halo/mystic-magic[1~5,5~1].png~GS()~CS(96,96,0):75"
                image_diagonal="halo/mystic-magic[1~5,5~1].png~GS()~CS(96,96,0):75"
                offset=1.0
            [/missile_frame]
        [/else]
        start_time=-375
        [frame]
            image="units/skykingdom-magi/subversivemage-attack-magic[1,2].png:[75,300]"
            halo="projectiles/zmage-preparation-halo[1~7].png:[50*7]"
            halo_mod=~CS(-32,-32,0)
            halo_x,halo_y=6,-25
        [/frame]
        [frame]
            image="units/skykingdom-magi/subversivemage-attack-magic2.png:225"
            halo="projectiles/zmage-preparation-halo[7~1].png:[50*7]"
            halo_mod=~CS(-32,-32,0)
            halo_x,halo_y=6,-25
            sound=magic-faeriefire.ogg
        [/frame]
    [/attack_anim]
[/unit_type]
